<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: idbxs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: idbxs</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-eidb_idbxs.html">eidb/idbxs</a>~</span>idbxs<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Extended IndexedDB secure functionalities<br/>
NOTE: ACCESSIBLE THRU eidb.idbxs.* OR eidb.sec.<em>,
RECOMMENDED TO USE eidb.sec.</em><br/></p>
<p>KEY USAGE NOTE:</p>
<pre class="prettyprint source"><code>E2EE with asymmetric keys:
  - Encryption: Public key,   Decryption: Private key
  - Sign:       Private key,  Verify:     Public key
  - Options:    RSA (Web Crypto: Can't derive from password without Web Crypto support or randfunc)
                EC  (Web Crypto: Derivable from password, but can't encrypt)
                See: https://diafygi.github.io/webcrypto-examples
Solution:
  - Encryption: Symmetric key,  Decryption: Symmetric key  (AES-GCM 256)
  - Sign:       Private key,    Verify:     Public key     (EC P-256)
</code></pre>
<p>Variable prefixes:</p>
<pre class="prettyprint source"><code>- Etde_: Encrypted by encryption key
- Etda_: Encrypted by authentication private key
- Etds_: Encrypted by static key
- Etdr_: Encrypted by recovery key
</code></pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="idbxs"><span class="type-signature"></span>new idbxs<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="CONSTANTS"><span class="type-signature"></span>CONSTANTS<span class="type-signature"></span></h4>




<div class="description">
    <hr>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="PROPERTIES"><span class="type-signature"></span>PROPERTIES<span class="type-signature"></span></h4>




<div class="description">
    <hr>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="SUB_NAMESPACES"><span class="type-signature"></span>SUB_NAMESPACES<span class="type-signature"></span></h4>




<div class="description">
    <hr>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=""><span class="type-signature">(async) </span><span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>UNUSED!
WARN: THIS IS ARBITRARY OBJECT, EG. CHANGES
Object to secure object, all depths<br/>
Can't utilise JSON.parse object travel, its reviver is synchronous
while encryption is async. Doing recursion.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=""><span class="type-signature"></span><span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Add random dots to string</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line770">line 770</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=""><span class="type-signature"></span><span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Add random commas</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line788">line 788</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=""><span class="type-signature"></span><span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Format sentence, letter casing, spaces</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line806">line 806</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".array_to_sarray"><span class="type-signature">(async, static) </span>array_to_sarray<span class="signature">(Values)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    



<div class="description">
    <p>Turn values into secure values (encrypted by static key)</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>Multiple values</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Base64 ciphertexts</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".clear_keys"><span class="type-signature">(static) </span>clear_keys<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ACCESS LOCK, USE THIS:
Lock out access by clearing keys from slocal</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line503">line 503</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".ensure_global_meta"><span class="type-signature">(async, static) </span>ensure_global_meta<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Ensure global metadata (ensure, and change no whole saving)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line303">line 303</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".gen_recovery_info"><span class="type-signature">(async, static) </span>gen_recovery_info<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Get recovery info for key chain (3 keys); call this method to get new
recovery info when user has the old recovery key leaked.
Use recovery key to get back Enc_Key, Auth_Keypair, to set new
password but it's not designed to get back the forgotten password.
Give user the Recovery Key (256bits), store (Iv,Ciphertext) in db:<br/></p>
<ul>
<li>Etdr_Recovery<br/></li>
<li>Etdr_Recovery_Iv</li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line576">line 576</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>3 items: Recovery key (AES-GCM), ciphertext of (Enc_Key,Auth_Keypair),
and IV (hex) used to create the ciphertext.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".get_key_chain"><span class="type-signature">(async, static) </span>get_key_chain<span class="signature">(Username, Password)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Get key chain from password<br/>
Use Enc_Key for encryption/decryption, send Auth_Keypair.publicKey to
server for registration, use Auth_Keypair.privateKey to sign authentication
message from server and let server verify.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Used to make salt</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Password</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Used to derive keys with salt, left and right spaces will be trimmed.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line537">line 537</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>{Enc_Key,Auth_Keypair} Enc_Key is AES key, Auth_Keypair
is EC key pair.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".get_micro_dict"><span class="type-signature">(static) </span>get_micro_dict<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A micro dictionary of 256 words<br/>
WARN: THIS DICT ALGO SHOULD STAY UNCHANGED, NAMED EnIndex Micro Dictionary.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line707">line 707</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".get_new_static_key"><span class="type-signature">(async, static) </span>get_new_static_key<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get new random static key (AES-GCM 256)<br/>
Static key concept: Use static key to encrypt data, use Enc_Key to
encrypt static key; Enc_Key is changed when password is changed, but
static key stays the same to avoid decrypt/re-encrypt all data.
Static key can be changed to, but only in really necessary cases.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line558">line 558</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".init"><span class="type-signature">(static) </span>init<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Init</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line876">line 876</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".key_to_text"><span class="type-signature">(async, static) </span>key_to_text<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Convert an AES 256 key to recovery text with strange words</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line825">line 825</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".load_global_meta"><span class="type-signature">(async, static) </span>load_global_meta<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Load global metadata (no whole saving of global meta)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".load_static_key"><span class="type-signature">(async, static) </span>load_static_key<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get static key from db metadata</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line405">line 405</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".obj_to_sobj"><span class="type-signature">(async, static) </span>obj_to_sobj<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>WARN: THIS IS FULL OBJECT TO SAVE
Turn regular object into secure object to save encrypted<br/>
NOTICE: THE OUTPUT SECURE OBJECT CONTAINS ONLY ENCRYPTED PROPERTIES
THOSE ARE INDEXED, THE REST OF PROPERTIES ARE IN .Etds_Obj</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line156">line 156</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".obj_to_sobj_arb_rec"><span class="type-signature">(async, static) </span>obj_to_sobj_arb_rec<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>UNUSED!
Object to secure object, all depths<br/>
Can't utilise JSON.parse object travel, its reviver is synchronous
while encryption is async. Doing recursion.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line280">line 280</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".open_av"><span class="type-signature">(async, static) </span>open_av<span class="signature">(Db_Name, Indices)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    



<div class="description">
    <p>Open db with version set automatically (av, ie. auto-versioning)</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Db_Name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Database name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Index schema of database</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Error or null, and database object</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".prepare_keys"><span class="type-signature">(async, static) </span>prepare_keys<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ACCESS START, USE THIS:
Prepare keys for secure ops<br/>
App dev: Use try/catch to check if Username and Password are okay,
use loop to enter again and again if necessary.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line446">line 446</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".recover_and_set_keys"><span class="type-signature">(async, static) </span>recover_and_set_keys<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Recover enc/auth keys and set keys to use</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line643">line 643</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".recover_key_chain"><span class="type-signature">(async, static) </span>recover_key_chain<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Recover back Enc_Key, Auth_Keypair from recovery key, iv, and ciphertext</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line612">line 612</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".save_recovery_info"><span class="type-signature">(async, static) </span>save_recovery_info<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Save recovery info</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line597">line 597</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".save_static_key"><span class="type-signature">(async, static) </span>save_static_key<span class="signature">(Skey, enforce)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set static key in db metadata, only after setting static key, all other secure
ops with read or write can be performed.<br/>
WARN: CALL ONLY ONCE AFTER DB CREATION OR AFTER RE-ENCRYPTING ALL DATA
WITH NEW STATIC KEY.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Skey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Static key to save to db</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>enforce</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Indicates whether to force setting a static key which
may FATALLY result in failure of decryption
of all data. Defaulted to false.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line365">line 365</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".set_ea_keys"><span class="type-signature">(static) </span>set_ea_keys<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set enc/dec keys to be used by secure ops</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line288">line 288</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".set_static_key"><span class="type-signature">(static) </span>set_static_key<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set static key</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line296">line 296</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".set_user_and_pw"><span class="type-signature">(async, static) </span>set_user_and_pw<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set username and password (user for chaning username or password, or both at once)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line512">line 512</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".text_to_key"><span class="type-signature">(async, static) </span>text_to_key<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Recovery text to key (AES-GCM 256)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line844">line 844</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".update_global_meta"><span class="type-signature">(async, static) </span>update_global_meta<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Update global meta</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line333">line 333</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".value_to_svalue"><span class="type-signature">(async, static) </span>value_to_svalue<span class="signature">(Value)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    <p>Turn value into secure value (encrypted by static key)</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Value</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>A value</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="eidb_idbxs.js.html">eidb/idbxs.js</a>, <a href="eidb_idbxs.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Base64 ciphertext</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-eidb.html">eidb</a></li><li><a href="module-eidb_base.html">eidb/base</a></li><li><a href="module-eidb_idb.html">eidb/idb</a></li><li><a href="module-eidb_idb_cursor.html">eidb/idb/cursor</a></li><li><a href="module-eidb_idb_cursor_with_value.html">eidb/idb/cursor_with_value</a></li><li><a href="module-eidb_idb_database.html">eidb/idb/database</a></li><li><a href="module-eidb_idb_factory.html">eidb/idb/factory</a></li><li><a href="module-eidb_idb_index.html">eidb/idb/index</a></li><li><a href="module-eidb_idb_key_range.html">eidb/idb/key_range</a></li><li><a href="module-eidb_idb_object_store.html">eidb/idb/object_store</a></li><li><a href="module-eidb_idb_open_db_request.html">eidb/idb/open_db_request</a></li><li><a href="module-eidb_idb_request.html">eidb/idb/request</a></li><li><a href="module-eidb_idb_transaction.html">eidb/idb/transaction</a></li><li><a href="module-eidb_idb_version_change_event.html">eidb/idb/version_change_event</a></li><li><a href="module-eidb_idbx.html">eidb/idbx</a></li><li><a href="module-eidb_idbx_crud.html">eidb/idbx/crud</a></li><li><a href="module-eidb_idbx_fts.html">eidb/idbx/fts</a></li><li><a href="module-eidb_idbx_miscs.html">eidb/idbx/miscs</a></li><li><a href="module-eidb_idbx_op_hist.html">eidb/idbx/op_hist</a></li><li><a href="module-eidb_idbxs.html">eidb/idbxs</a></li><li><a href="module-eidb_idbxs_blind_index.html">eidb/idbxs/blind_index</a></li><li><a href="module-eidb_idbxs_cruds.html">eidb/idbxs/cruds</a></li><li><a href="module-eidb_idbxs_dobi.html">eidb/idbxs/dobi</a></li><li><a href="module-eidb_idbxs_ftss.html">eidb/idbxs/ftss</a></li><li><a href="module-eidb_idbxs_op_hists.html">eidb/idbxs/op_hists</a></li><li><a href="module-eidb_net_sync.html">eidb/net/sync</a></li><li><a href="module-eidb_net_wsocket.html">eidb/net/wsocket</a></li><li><a href="module-eidb_storage_slocal.html">eidb/storage/slocal</a></li><li><a href="module-eidb_storage_ssession.html">eidb/storage/ssession</a></li><li><a href="module-eidb_utils.html">eidb/utils</a></li><li><a href="module-eidb_wcrypto.html">eidb/wcrypto</a></li></ul><h3>Classes</h3><ul><li><a href="Point.html">Point</a></li><li><a href="module-eidb_base-base.html">base</a></li><li><a href="module-eidb_idb_cursor_with_value-cursor_with_value.html">cursor_with_value</a></li><li><a href="module-eidb_idb_cursor-cursor.html">cursor</a></li><li><a href="module-eidb_idb_database-database.html">database</a></li><li><a href="module-eidb_idb_factory-factory.html">factory</a></li><li><a href="module-eidb_idb_index-index.html">index</a></li><li><a href="module-eidb_idb_key_range-key_range.html">key_range</a></li><li><a href="module-eidb_idb_object_store-object_store.html">object_store</a></li><li><a href="module-eidb_idb_open_db_request-open_db_request.html">open_db_request</a></li><li><a href="module-eidb_idb_request-request.html">request</a></li><li><a href="module-eidb_idb_transaction-transaction.html">transaction</a></li><li><a href="module-eidb_idb_version_change_event-version_change_event.html">version_change_event</a></li><li><a href="module-eidb_idbx_crud-crud.html">crud</a></li><li><a href="module-eidb_idbx_fts-fts.html">fts</a></li><li><a href="module-eidb_idbx_miscs-miscs.html">miscs</a></li><li><a href="module-eidb_idbx_op_hist-op_hist.html">op_hist</a></li><li><a href="module-eidb_idbxs_blind_index-blind_index.html">blind_index</a></li><li><a href="module-eidb_idbxs_cruds-cruds.html">cruds</a></li><li><a href="module-eidb_idbxs_dobi-dobi.html">dobi</a></li><li><a href="module-eidb_idbxs_ftss-ftss.html">ftss</a></li><li><a href="module-eidb_idbxs_op_hists-op_hists.html">op_hists</a></li><li><a href="module-eidb_idbxs-idbxs.html">idbxs</a></li><li><a href="module-eidb_idbx-idbx.html">idbx</a></li><li><a href="module-eidb_idb-idb.html">idb</a></li><li><a href="module-eidb_net_sync-sync.html">sync</a></li><li><a href="module-eidb_net_wsocket-wsocket.html">wsocket</a></li><li><a href="module-eidb_storage_slocal-slocal.html">slocal</a></li><li><a href="module-eidb_storage_ssession-ssession.html">ssession</a></li><li><a href="module-eidb_utils-utils.html">utils</a></li><li><a href="module-eidb_wcrypto-wcrypto.html">wcrypto</a></li><li><a href="module-eidb-eidb.html">eidb</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Curve">Curve</a></li><li><a href="global.html#get_pubkey_point">get_pubkey_point</a></li><li><a href="global.html#mod">mod</a></li><li><a href="global.html#set_curve">set_curve</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sat Feb 18 2023 13:58:44 GMT+0700 (Indochina Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>