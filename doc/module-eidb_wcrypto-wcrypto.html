<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><script src="jsdoc-custom.js"></script><link type="text/css" rel="stylesheet" href="jsdoc-custom.css"><title>wcrypto</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="",baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="light" data-theme="light"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="_eig53nVkuMUA7Cnlnsdc"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-eidb.html">eidb</a></div><div class="sidebar-section-children"><a href="module-eidb_base.html">eidb/base</a></div><div class="sidebar-section-children"><a href="module-eidb_idb.html">eidb/idb</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_cursor.html">eidb/idb/cursor</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_cursor_with_value.html">eidb/idb/cursor_with_value</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_database.html">eidb/idb/database</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_factory.html">eidb/idb/factory</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_index.html">eidb/idb/index</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_key_range.html">eidb/idb/key_range</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_object_store.html">eidb/idb/object_store</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_open_db_request.html">eidb/idb/open_db_request</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_request.html">eidb/idb/request</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_transaction.html">eidb/idb/transaction</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_version_change_event.html">eidb/idb/version_change_event</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx.html">eidb/idbx</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_crud.html">eidb/idbx/crud</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_fts.html">eidb/idbx/fts</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_miscs.html">eidb/idbx/miscs</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_op_hist.html">eidb/idbx/op_hist</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs.html">eidb/idbxs</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_blind_index.html">eidb/idbxs/blind_index</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_cruds.html">eidb/idbxs/cruds</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_dobi.html">eidb/idbxs/dobi</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_ftss.html">eidb/idbxs/ftss</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_op_hists.html">eidb/idbxs/op_hists</a></div><div class="sidebar-section-children"><a href="module-eidb_net_sync.html">eidb/net/sync</a></div><div class="sidebar-section-children"><a href="module-eidb_net_wsocket.html">eidb/net/wsocket</a></div><div class="sidebar-section-children"><a href="module-eidb_utils.html">eidb/utils</a></div><div class="sidebar-section-children"><a href="module-eidb_wcrypto.html">eidb/wcrypto</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="navbar-item"><a id="" href="index.html" target="_self">Doc Home</a></div><div class="navbar-item"><a id="" href="https://github.com/desiic/enindex" target="_blank">Project Website</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h1 id="wcrypto-title" class="has-anchor"><span class="ancestors"><a href="module-eidb_wcrypto.html">eidb/wcrypto</a>~</span> wcrypto</h1><div class="class-description"><p>Crypto class<br>NOTE: Web Crypto always return ArrayBuffer but receive Uint8Array params. ALL ARE DEFAULTED TO 256-BIT IN THIS MODULE (EXCEPT RSA).</p></div></header><article><div class="container-overview"><h2 id="constructor" class="has-anchor">Constructor</h2><h3 class="name has-anchor" id="wcrypto"><span class="type-signature"></span>new wcrypto<span class="signature">()</span><span class="type-signature"></span></h3><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line27">line 27</a></li></ul></dd></div></dl></div><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id=".EXTERNAL_LIBS"><span class="type-signature">(static) </span>EXTERNAL_LIBS<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><hr></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line35">line 35</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".get_pubkey_point"><span class="type-signature">(static) </span>get_pubkey_point<span class="signature">(Priv_Hex)</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Make ECDSA public key from private key NOTE: THIS IS USING Elliptic LIB, NOT WEB CRYPTO.</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>Priv_Hex</code></td><td class="type"><span class="param-type">String</span></td><td class="description last"><p>Private key (number d)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line43">line 43</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>Public key point (2 numbers x,y)</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id=".BASE_FUNCS"><span class="type-signature">(static) </span>BASE_FUNCS<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><hr></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line65">line 65</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".get_random_values_unsigned"><span class="type-signature">(static) </span>get_random_values_unsigned<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Random values (unsigned)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line70">line 70</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".get_random_values_signed"><span class="type-signature">(static) </span>get_random_values_signed<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Random values (signed)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line88">line 88</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".random_iv"><span class="type-signature">(static) </span>random_iv<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Random 16-byte IV</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line106">line 106</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".random_uuid"><span class="type-signature">(static) </span>random_uuid<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Random UUID</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line114">line 114</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".random_uuidx"><span class="type-signature">(static) </span>random_uuidx<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Random UUID extended (256 bits, no dashes)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line121">line 121</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".UTILS"><span class="type-signature">(static) </span>UTILS<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><hr></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line130">line 130</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64url_to_base64"><span class="type-signature">(static) </span>base64url_to_base64<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64URL to Base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line135">line 135</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64_to_base64url"><span class="type-signature">(static) </span>base64_to_base64url<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64 to Base64URL</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line142">line 142</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".utf8_to_bytes"><span class="type-signature">(static) </span>utf8_to_bytes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>UTF8 to bytes (Uint8Array)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line149">line 149</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".bytes_to_utf8"><span class="type-signature">(static) </span>bytes_to_utf8<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Bytes (Uint8Array) to UTF8</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line156">line 156</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".buff_to_bytes"><span class="type-signature">(static) </span>buff_to_bytes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>ArrayBuffer to Uint8Array (bytes)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line163">line 163</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".bytes_to_buff"><span class="type-signature">(static) </span>bytes_to_buff<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Uint8Array (bytes) to ArrayBuffer<br>WARN: SOME SIZE PROBLEM ACCESSING .buffer</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line171">line 171</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".buff_to_hex"><span class="type-signature">(static) </span>buff_to_hex<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>ArrayBuffer to hex, ref: https://stackoverflow.com/a/40031979/5581893</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line178">line 178</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".hex_to_buff"><span class="type-signature">(static) </span>hex_to_buff<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Hex to buff<br>WARN: SOME SIZE PROBLEM ACCESSING .buffer</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line188">line 188</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".bytes_to_hex"><span class="type-signature">(static) </span>bytes_to_hex<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Uint8Array to hex, ref: https://stackoverflow.com/a/40031979/5581893 Another option: https://stackoverflow.com/a/34356351/5581893</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line196">line 196</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".hex_to_bytes"><span class="type-signature">(static) </span>hex_to_bytes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Hex to bytes</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line205">line 205</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".buff_to_base64"><span class="type-signature">(static) </span>buff_to_base64<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>ArrayBuffer to base64, ref: https://stackoverflow.com/a/9458996/5581893</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line217">line 217</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64_to_buff"><span class="type-signature">(static) </span>base64_to_buff<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64 to buffer<br>WARN: SOME SIZE PROBLEM ACCESSING .buffer</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line232">line 232</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".bytes_to_base64"><span class="type-signature">(static) </span>bytes_to_base64<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Uint8Array to base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line245">line 245</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64_to_bytes"><span class="type-signature">(static) </span>base64_to_bytes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64 to bytes</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line258">line 258</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64_to_hex"><span class="type-signature">(static) </span>base64_to_hex<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64 to hex</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line271">line 271</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".hex_to_base64"><span class="type-signature">(static) </span>hex_to_base64<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Hex to base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line278">line 278</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".base64url_to_hex"><span class="type-signature">(static) </span>base64url_to_hex<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Base64URL to hex</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line285">line 285</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".hex_to_base64url"><span class="type-signature">(static) </span>hex_to_base64url<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Hex to base64URL</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line293">line 293</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".SUBTLE"><span class="type-signature">(static) </span>SUBTLE<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><hr></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line301">line 301</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".digest_sha1"><span class="type-signature">(async, static) </span>digest_sha1<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Digest to SHA1</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line306">line 306</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".digest_sha256"><span class="type-signature">(async, static) </span>digest_sha256<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Digest to SHA256</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line315">line 315</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_key_aes"><span class="type-signature">(async, static) </span>generate_key_aes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key<br>AES only, options are AES-CBC (block), AES-CTR (counter), AES-GCM (enhanced counter); AES-GCM is better, used in TLS 1.2 https://stackoverflow.com/a/22958889/5581893</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line326">line 326</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_key_aes_kw"><span class="type-signature">(async, static) </span>generate_key_aes_kw<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key AES-KW (key wrapping)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line342">line 342</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_keys_rsa_ed"><span class="type-signature">(async, static) </span>generate_keys_rsa_ed<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key RSA for encryption/decryption<br>RSA algos: RSASSA-PKCS1-v1_5 (first), RSA-OAEP, RSA-PSS (latest) Ref: https://medium.com/asecuritysite-when-bob-met-alice/so-what-are-rsa-pcks-1-5-rsa-oaep-and-rsa-pss-and-why-is-it-important-to-pick-the-right-one-e639992fba09</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line360">line 360</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_keys_rsa_sv"><span class="type-signature">(async, static) </span>generate_keys_rsa_sv<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key RSA for sign/verify<br>RSA algos: RSASSA-PKCS1-v1_5 (first), RSA-OAEP, RSA-PSS (latest) Ref: https://medium.com/asecuritysite-when-bob-met-alice/so-what-are-rsa-pcks-1-5-rsa-oaep-and-rsa-pss-and-why-is-it-important-to-pick-the-right-one-e639992fba09</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line392">line 392</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_keys_ec_ed"><span class="type-signature">(async, static) </span>generate_keys_ec_ed<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key EC (elliptic curve) for encryption/decryption<br>Web Crypto ECDSA can only sign, Web Crypto ECDH can't en/decrypt or sign/verify<br>A solution is at this reference: https://jameshfisher.com/2017/11/03/web-cryptography-api-asymmetric-encryption-example/ NOTE: NOT IMPLEMENTED, SENDER MAY LEAK HIS/HER OWN PRIVATE KEY AND THE MESSAGE IS NO LONGER ONLY-RECEIVER-CAN-READ.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line427">line 427</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".generate_keys_ec_sv"><span class="type-signature">(async, static) </span>generate_keys_ec_sv<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Generate key EC (elliptic curve, ECDSA) for sign/verify</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line443">line 443</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".import_key_pb_raw"><span class="type-signature">(async, static) </span>import_key_pb_raw<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Import key from password for derivation</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line459">line 459</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".import_key_aes_raw"><span class="type-signature">(async, static) </span>import_key_aes_raw<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Import AES (GCM) key for en/decryption</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line480">line 480</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".import_key_rsa_jwk"><span class="type-signature">(async, static) </span>import_key_rsa_jwk<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Import RSA key from JWK for sign/verify<br>Rsa_Algo: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line506">line 506</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".import_key_ec_jwk"><span class="type-signature">(async, static) </span>import_key_ec_jwk<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Import EC key from JWK for sign/verify<br>Ec_Algo: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line529">line 529</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".export_key_hex"><span class="type-signature">(async, static) </span>export_key_hex<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Export AES key to hex</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line551">line 551</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".export_key_jwk"><span class="type-signature">(async, static) </span>export_key_jwk<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Export RSA|EC key to JWK</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line558">line 558</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".derive_bits_pb"><span class="type-signature">(async, static) </span>derive_bits_pb<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Derive bits from password</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line572">line 572</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".derive_key_pb2aes"><span class="type-signature">(async, static) </span>derive_key_pb2aes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Derive AES key from password (password-based) for en/decrypt<br>Ref: https://github.com/infotechinc/password-based-key-derivation-in-browser/blob/master/pbkdf2.js</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line597">line 597</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".derive_keys_pb2rsa"><span class="type-signature">(async, static) </span>derive_keys_pb2rsa<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Derive RSA key pair from password, for en/decrypt | sign/verify<br>OPTION:<br></p><ul><li>When Web Crypto support deriving to asymmetric keys, only symmetric now.</li><li>Or when Web Crypto support custom randfunc for using when generating key</li><li>Or use a reliable library to derive (RSA -&gt; JWK -&gt; alter (lib) -&gt; import)</li></ul></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line629">line 629</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".derive_keys_pb2ec"><span class="type-signature">(async, static) </span>derive_keys_pb2ec<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Derive EC key pair from password, for sign/verify<br>WARN:<br>THIS IS A WORK-AROUND METHOD TO DERIVE EC KEYS FROM PASSWORD COZ WEB CRYPTO API ONLY DERIVE TO HMAC OR AES. IT'S POSSIBLE TO PROVIDE RANDFUNC TO RSA OR EC GENERATOR TO DERIVE BUT SUCH FEATURE ISN'T IN WEB CRYPTO YET.</p><p>Elliptic curve: y² = x³ + ax + b Theory: https://cryptobook.nakov.com/asymmetric-key-ciphers/elliptic-curve-cryptography-ecc Maths: https://en.wikipedia.org/wiki/Modular_arithmetic P-256 curve: https://neuromancer.sk/std/nist/P-256</p><p>Maths:</p><pre class="prettyprint source"><code>y² = x³ + ax + b (mod p)  &lt;=>  y² - (x³ + ax + b) = tp
</code></pre><p>Procedure:<br>ECSA -&gt; JWK -&gt; alter -&gt; import<br>Pubkey = Privkey * G, Note: This is Elliptic Curve scalar multiplication, see: https://en.wikipedia.org/wiki/Elliptic_curve_point_multiplication#Point_multiplication</p><p>EC maths (secp256k1) in pure JavaScript:<br>https://paulmillr.com/posts/noble-secp256k1-fast-ecc/</p><p>Notation:<br>d: Decryption key (private key) x,y: Encryption key (public key)</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line662">line 662</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".encrypt_aes"><span class="type-signature">(async, static) </span>encrypt_aes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Encrypt with AES key (GCM) to base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line724">line 724</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".encrypt_aes_fiv"><span class="type-signature">(async, static) </span>encrypt_aes_fiv<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Encrypt with AES key (GCM) to base64, with fixed IV, for facilitating encrypted search on index for field value.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line749">line 749</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".encrypt_rsa"><span class="type-signature">(async, static) </span>encrypt_rsa<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Encrypt with RSA key to base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line756">line 756</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".encrypt_ec"><span class="type-signature">(async, static) </span>encrypt_ec<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Encrypt with EC key to base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line775">line 775</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".decrypt_aes"><span class="type-signature">(async, static) </span>decrypt_aes<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Decrypt (AES) from base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line782">line 782</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".decrypt_aes_fiv"><span class="type-signature">(async, static) </span>decrypt_aes_fiv<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Decrypt (AES) from base64, with fixed IV, for facilitating encrypted search on index for field value.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line802">line 802</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".decrypt_rsa"><span class="type-signature">(async, static) </span>decrypt_rsa<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Decrypt (RSA) from base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line809">line 809</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".decrypt_ec"><span class="type-signature">(async, static) </span>decrypt_ec<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Decrypt with EC key from base64</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line828">line 828</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".sign"><span class="type-signature">(async, static) </span>sign<span class="signature">(Text, Privkey)</span><span class="type-signature"> &rarr; {String}</span></h3><div class="description"><p>Sign and get a signature (a hash in hex) using RSA-PSS or ECDSA private key</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>Text</code></td><td class="type"><span class="param-type">String</span></td><td class="description last"><p>UTF8 text</p></td></tr><tr><td class="name"><code>Privkey</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last"><p>A private key</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line838">line 838</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>Hash string</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">String</span></dd></dl></div><h3 class="name has-anchor" id=".verify"><span class="type-signature">(async, static) </span>verify<span class="signature">(Text, Signature, Pubkey)</span><span class="type-signature"> &rarr; {Boolean}</span></h3><div class="description"><p>Verify cipher text (base64) using RSA-PSS or ECDSA public key</p></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Parameters:</strong><table class="params"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>Text</code></td><td class="type"><span class="param-type">String</span></td><td class="description last"><p>Any text</p></td></tr><tr><td class="name"><code>Signature</code></td><td class="type"><span class="param-type">String</span></td><td class="description last"><p>The signature hash obtained after signing in hex string</p></td></tr><tr><td class="name"><code>Pubkey</code></td><td class="type"><span class="param-type">Object</span></td><td class="description last"><p>A public key matching the priv key used when sign</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line864">line 864</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>true if the signature is ok, false otherwise</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Boolean</span></dd></dl></div><h3 class="name has-anchor" id=".wrap_key"><span class="type-signature">(async, static) </span>wrap_key<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Wrap key</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line885">line 885</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".unwrap_key"><span class="type-signature">(async, static) </span>unwrap_key<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Unwrap key</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line892">line 892</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".EXTENDED"><span class="type-signature">(static) </span>EXTENDED<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><hr></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line899">line 899</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".split_into_2"><span class="type-signature">(static) </span>split_into_2<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Split string into 2</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line904">line 904</a></li></ul></dd></div></dl><h3 class="name has-anchor" id=".password2keys"><span class="type-signature">(async, static) </span>password2keys<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h3><div class="description"><p>Get encryption key and auth key from password<br>Encryption first, first bit trunk is more important as it's also the derived bits with half number of bits, and users encrypt data on client side first before registration with server.</p><p>HMAC isn't secure enough as there's an agreed secret and may leak from server side:<br>https://stackoverflow.com/a/18693622/5581893</p><p>Options for E2EE keys: AES+RSApair, AES+ECpair<br>However, Web Crypto doesn't provide derivation method to RSA or EC; quite time taking to create RSA pair with pure JS especially the modules and primes; EC pair will be created instead since any interger below EC:n can be key.</p><p>This method creates AES key + EC keys, instead of AES key + HMAC key. User keeps priv key, send pub key to server for registration.<br>Ref: https://stackoverflow.com/a/20484325/5581893</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line932">line 932</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>1 AES-GCM 256-bit key for encryption key, 1 EC 256-bit key pair for authentication (upon handshake server should send some text for client to sign).</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Array</span></dd></dl></div><h3 class="name has-anchor" id=".make_static_key"><span class="type-signature">(async, static) </span>make_static_key<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h3><div class="description"><p>Get static key (for data encryption to avoid decrypt+re-encryption when password changes); static key is encrypted by enc key by password2keys. Static key should be saved encrypted in <code>metadata</code> object store.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line946">line 946</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>AES-GCM 256-bit key</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">Object</span></dd></dl></div><h3 class="name has-anchor" id=".init"><span class="type-signature">(static) </span>init<span class="signature">()</span><span class="type-signature"></span></h3><div class="description"><p>Init static stuff</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="eidb_wcrypto.js.html">eidb/wcrypto.js</a>, <a href="eidb_wcrypto.js.html#line954">line 954</a></li></ul></dd></div></dl></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"><div class="navbar-item"><a id="" href="index.html" target="_self">Doc Home</a></div><div class="navbar-item"><a id="" href="https://github.com/desiic/enindex" target="_blank">Project Website</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="_eig53nVkuMUA7Cnlnsdc"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-eidb.html">eidb</a></div><div class="sidebar-section-children"><a href="module-eidb_base.html">eidb/base</a></div><div class="sidebar-section-children"><a href="module-eidb_idb.html">eidb/idb</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_cursor.html">eidb/idb/cursor</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_cursor_with_value.html">eidb/idb/cursor_with_value</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_database.html">eidb/idb/database</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_factory.html">eidb/idb/factory</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_index.html">eidb/idb/index</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_key_range.html">eidb/idb/key_range</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_object_store.html">eidb/idb/object_store</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_open_db_request.html">eidb/idb/open_db_request</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_request.html">eidb/idb/request</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_transaction.html">eidb/idb/transaction</a></div><div class="sidebar-section-children"><a href="module-eidb_idb_version_change_event.html">eidb/idb/version_change_event</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx.html">eidb/idbx</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_crud.html">eidb/idbx/crud</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_fts.html">eidb/idbx/fts</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_miscs.html">eidb/idbx/miscs</a></div><div class="sidebar-section-children"><a href="module-eidb_idbx_op_hist.html">eidb/idbx/op_hist</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs.html">eidb/idbxs</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_blind_index.html">eidb/idbxs/blind_index</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_cruds.html">eidb/idbxs/cruds</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_dobi.html">eidb/idbxs/dobi</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_ftss.html">eidb/idbxs/ftss</a></div><div class="sidebar-section-children"><a href="module-eidb_idbxs_op_hists.html">eidb/idbxs/op_hists</a></div><div class="sidebar-section-children"><a href="module-eidb_net_sync.html">eidb/net/sync</a></div><div class="sidebar-section-children"><a href="module-eidb_net_wsocket.html">eidb/net/wsocket</a></div><div class="sidebar-section-children"><a href="module-eidb_utils.html">eidb/utils</a></div><div class="sidebar-section-children"><a href="module-eidb_wcrypto.html">eidb/wcrypto</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#dark-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>